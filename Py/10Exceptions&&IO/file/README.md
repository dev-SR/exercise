- [File](#file)
	- [Basic](#basic)
		- [Opening a File](#opening-a-file)
		- [Python File Modes](#python-file-modes)
		- [Closing a File](#closing-a-file)
		- [Context Managers (with)](#context-managers-with)
	- [Writing to a file](#writing-to-a-file)
	- [Reading from a file](#reading-from-a-file)
		- [The file handle](#the-file-handle)
		- [Reading content line by line](#reading-content-line-by-line)
	- [Appending to a file](#appending-to-a-file)
	- [Changing the content in a file](#changing-the-content-in-a-file)

# File

##  Basic

### Opening a File

- Python has a built-in function `open()` to open a file
- This function returns a file object, also called a file handle, as it is used to read or modify the file accordingly

```python
f = open("ex.txt")
```

We can specify the mode while opening a file. In mode, we specify whether we want to read `'r'`, write `'w'` or append `'x'` to the file. We also specify if we want to
open the file in text mode or binary mode.

There are 2 types of Files:

- Text Files
- Binary Files

### Python File Modes

- 'r' Open a file for reading. (default)
- 'W' Open a file for writing. Creates a new file if it does not exist or truncates the file if it exists.
- 'a' Open for appending at the end of the file without truncating it. Creates a new file if it does not exist.
- 't' Open in text mode. (default)
- 'b' Open in binary mode.
- '+ Open a file for updating (reading and writing)

```python
f = open("ex.txt",'r')
f = open("ex.txt",'w')
```

### Closing a File

Closing a file will free up the resources that were tied with the file and is done using the close() method.
Python has a garbage collector to clean up unreferenced objects but, we must not rely on it to close the file.

```python
f = open("ex.txt")
f.close
```

### Context Managers (with)

-In Python, de-allocation of resources can be achieved by the usage of context managers which facilitate the
proper handling of resources.
-The most common way of performing file operations is by using the `with` keyword.


```python
with open('read.txt','r') as f:
	print("Inside: ",f.closed) # `False`

print("Outside: ",f.closed) # `True` that means file is already closed
```


## Writing to a file

- In order to write some content to a file, we need to open file in 'w' or 'a' mode.
- writing a string or sequence of bytes can be done using `write()`
- Returns the number of characters written



```python
with open('write.txt', 'w', encoding='utf-8') as f:
	f.write("This file has been generated by Python.\n")
	r = f.write("I love python\n")
	r1 = f.write("❤❤❤")  # encoding='utf-8'
	print(r,r1)
```

    14 3


## Reading from a file

- You can read the content from a file using a method called `read()` or `readlines()`.


```python
with open('read.txt', 'r') as f:

	# reads complete data
	data= f.read()
	print(data)

print()

with open('read.txt', 'r') as f:

	# reads only 4 chars
	data = f.read(4)
	print(data)

	# reads next 5 charaters
	data = f.read(5)
	print(data)


```

    Hello World
    From file

    Hell
    o Wor


### The file handle

- You can know the position of file handle with tell()
- You can change the position of file handle as well, seek(index).


```python
with open('read.txt', 'r') as f:
	# file handle at beginning
	print(f.tell())

	# read 4 chars
	print(f.read(4))

	# file handle now
	print(f.tell())
	print(f.read(5))

	# take file handle to the beginning
	f.seek(0)

	print()
	# read all data
	print(f.read())

```

    0
    Hell
    4
    o Wor

    Hello World
    From file


### Reading content line by line


```python
with open('read.txt', 'r') as f:
	for line in f:
		print(line)
```

    Hello World

    From file



```python
with open('read.txt', 'r') as f:
	data = f.readlines()
	print(data)
	print(type(data))

	for line in data:
		print(line,end="")

```

    ['Hello World\n', 'From file']
    <class 'list'>
    Hello World
    From file

## Appending to a file

- file mode 'a' can be used to append to the existing file


```python
with open('read.txt', 'r') as f:
	print(f.read())

print()

with open('read.txt', 'a') as f:
	f.write("\nAppending this line at the end")

with open('read.txt', 'r') as f:
	print(f.read())
```

    Hello World
    From file

    Hello World
    From file
    Appending this line at the end


## Changing the content in a file


```python
filename = 'read.txt'
data = None

with open(filename,'r') as f:
	data= f.readlines()

print(data)
```

    ['Hello World\n', 'From file\n', 'Appending this line at the end']



```python
data[-1] = "Python is FUN !!❤❤"
print(data)

```

    ['Hello World\n', 'From file\n', 'Python is FUN !!❤❤']



```python
data_to_write = "".join(data)
data_to_write
```




    'Hello World\nFrom file\nPython is FUN !!❤❤'




```python
with open('temp.txt', 'w', encoding='utf-8') as f:
	f.write(data_to_write)
```
